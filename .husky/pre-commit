#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Check Typescript standards
yarn check-types ||
(
  echo "âŒâŒâŒ TypeScript check failed âŒâŒâŒ"
  exit 1
)

echo "âœ…âœ…âœ… TypeScript check passed âœ…âœ…âœ…"

# Check Prettier Standards
yarn check-format ||
(
  echo "âŒâŒâŒ Prettier check failed âŒâŒâŒ"
  exit 1
)

echo "âœ…âœ…âœ… Prettier check passed âœ…âœ…âœ…"

# Check ESLint Standards
yarn check-lint ||
(
  echo "âŒâŒâŒ ESLint check failed âŒâŒâŒ
          Make the required cahnges listed above, add changes an try to commit again."
  exit 1
)

# If everyting passes... try to run a build
echo 'âœ…âœ…âœ… Allright...Code looks good...Trying to build now...âœ…âœ…âœ…'

yarn build ||
(
  echo "âŒâŒâŒ Build failed âŒâŒâŒ
          Next build failed: View the errors above to see what went wrong"
  exit 1
)

#IF it builds we can commit
echo "âœ…âœ…âœ… Build successful âœ…âœ…âœ…
        ğŸ¥³ğŸ¥³ğŸ¥³ Committing now ğŸ‰ğŸ‰ğŸ‰"